# Benchmarks Gap Report

**Generated**: 2025-12-26

Summary of gaps discovered during repo scan and recommended priorities.

Gaps

1. Excessive `max_iter` literals in examples and docstrings (high)
   - Impact: Quick PR checks may take too long; reviewers lose fast feedback.
   - Action: Audit and replace with `max_iter=500` in quick examples; add explicit justification for full-run examples.

2. Inconsistent early-stop support across optimizers (high)
   - Impact: Some optimizers will never terminate early, skewing comparisons.
   - Action: Add `early_stop` parameter to Abstract classes and implement consistent stopping logic.

3. Missing pre-commit audit script for large `max_iter` (medium)
   - Impact: Large budgets can slip into code unnoticed.
   - Action: Add `scripts/audit_max_iter.py` and pre-commit check `scripts/check_max_iter_precommit.py`.

4. Missing early-stop unit tests (medium)
   - Impact: Cannot assert correct early stopping behavior automatically.
   - Action: Add `tests/test_early_stop.py` to validate behavior and metadata fields.

5. CI/Runbook not fully documented for artifact retention & rollback (low)
   - Action: Update `ci/archiving.md` and `runbook.md` with retention windows and rollback steps.

Top 5 actionable tasks (prioritized):

- T002.2: Audit and fix `max_iter=10000` occurrences (high)
- T002.1: Implement early_stop across Abstract Optimizers and add tests (high)
- IT-006/T006: Implement audit script and pre-commit hook (medium)
- T010/T011: Replace doctrings and add quick tests (medium)
- T005: Add nightly CI full-run workflow and archival (low)

Deliverables

- `.github/analysis/benchmarks-gap-report.md` (this file)
- `reports/max_iter_audit.json` (to be generated by audit script)
